<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./assets/bootstrap-5.1.3-dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="./style.css" />
  <title>Project1</title>
</head>

<body>
  <nav>

    <ul class="breadcrumb">
      <li><a href="#">Home</a></li>
      <li><a href="#">Pictures</a></li>
      <li><a href="./index.html">BMI calculator</a></li>
    </ul>

  </nav>

  <div class="form-box">

    <div class="form-box-sub">

      <span>Calculate the BMI</span>

      <form action="javascript:calculate()">

        <div class="form-floating">
          <input type="text" class="form-control" id="floatingweight" placeholder="Enter your Weight" required>
          <label for="floatingweight">Enter your Weight</label>
          <span id="errorNumber"></span>
          <span id="accepted"></span>
        </div>

        <div class="form-floating ">
          <input type="text" class="form-control" id="floatingheight" placeholder="Enter your Height" required>
          <label for="floatingheight">Enter your Height</label>
          <span id="errorNumberheight"></span>
          <span id="acceptedHeight"></span>
        </div>

        <div class="input-group">
          <button class=" btn btn-primary mt-3 ">calculate</button>
        </div>
        <div>
          <div class="input-group">
            <button class=" btn btn-outline-success mt-3 " type="reset" onclick="re()">reset</button>
          </div>
          <div id="resualt"></div>

        </div>

    </div>
    </form>

  </div>
  <script>


    document.getElementById('floatingweight').addEventListener('keyup', (e) => {


      if (/[0-9\.]{4}/g.test(document.getElementById('floatingweight').value)) {

        document.getElementById('floatingweight').style.borderColor = 'red';
        document.getElementById('errorNumber').innerHTML = '';
        document.getElementById('errorNumber').innerHTML += 'The Number must be three digit';
        document.getElementById('accepted').innerHTML = '';
        e.target.value = e.target.value.replace(/[0-9\.]/g, '');
        return
      }
      if ((document.getElementById('floatingweight').value) > 200) {
        document.getElementById('errorNumber').innerHTML = 'enter weight less than 200 ';
        document.getElementById('floatingweight').style.borderColor = 'red';
        document.getElementById('accepted').innerHTML = '';
        return
      } else {
        document.getElementById('floatingweight').style.borderColor = 'green';
        document.getElementById('errorNumber').innerHTML = '';
        document.getElementById('accepted').innerHTML = 'The number has accepted';
      }

    })
    document.getElementById('floatingheight').addEventListener('keyup', (e) => {


      if (/[0-9\.]{4}/g.test(document.getElementById('floatingheight').value)) {

        document.getElementById('floatingheight').style.borderColor = 'red';
        document.getElementById('errorNumberheight').innerHTML = '';
        document.getElementById('errorNumberheight').innerHTML += 'The Number must be three digit';
        document.getElementById('acceptedHeight').innerHTML = '';
        e.target.value = e.target.value.replace(/[0-9\.]/g, '');
        return
      }
      if ((document.getElementById('floatingheight').value) > 250) {
        document.getElementById('errorNumberheight').innerHTML = 'enter height less than 250 ';
        document.getElementById('floatingheight').style.borderColor = 'red';
        document.getElementById('acceptedHeight').innerHTML = '';
        return
      } else {
        document.getElementById('floatingheight').style.borderColor = 'green';
        document.getElementById('errorNumberheight').innerHTML = '';
        document.getElementById('acceptedHeight').innerHTML = 'The number has accepted';
      }

    })

    function calculate() {
      var height = document.getElementById("floatingheight").value;
      var weight = document.getElementById("floatingweight").value;

      document.getElementById('errorNumberheight').innerHTML = '';
      document.getElementById('errorNumber').innerHTML = '';
      document.getElementById('resualt').innerHTML = '';
      document.getElementById('accepted').innerHTML = '';
      document.getElementById('acceptedHeight').innerHTML = '';

      if (height > 250) {
        document.getElementById('errorNumberheight').innerHTML = 'enter height less than 250 ';
        document.getElementById('floatingheight').style.borderColor = 'red';

      }

      if (weight > 200) {
        document.getElementById('errorNumber').innerHTML = 'enter weight less than 200 ';
        document.getElementById('floatingweight').style.borderColor = 'red';
        return
      }

      document.getElementById('floatingheight').style.borderColor = 'green';
      document.getElementById('floatingweight').style.borderColor = 'green';



      var bmi = Math.round(weight / Math.pow(height, 2) * 10000);
      saveBmis(bmi);




      if (bmi < 24) {
        document.getElementById('resualt').innerHTML = ` your BMI is : ${bmi} &#128522`;

      }
      if (bmi > 24) {
        document.getElementById('resualt').innerHTML = ` your BMI is : ${bmi} &#128546`;

      }
      if (bmi > 30) {
        document.getElementById('resualt').innerHTML = ` your BMI is : ${bmi} &#128557`;


      }

    }
    function saveBmis(e) {
      var BMI = [];

      BMI.push(e);
      localStorage.setItem("BMI", JSON.stringify(BMI));
    }






    function re() {
      document.getElementById("floatingheight").innerHTML = '';
      document.getElementById("floatingweight").innerHTML = '';
      document.getElementById('errorNumberheight').innerHTML = '';
      document.getElementById('errorNumber').innerHTML = '';
      document.getElementById('resualt').innerHTML = '';
      document.getElementById('floatingheight').style.borderColor = 'white';
      document.getElementById('floatingweight').style.borderColor = 'white';
    }
  </script>

</body>

</html>